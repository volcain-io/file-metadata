<!DOCTYPE html>
<html>
    <head>
        <title>File Metadata Microservice</title>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    </head>
    <body>
        <div class="container">
            <h1 class="header">
                API Basejump: File Metadata Microservice
            </h1>
            <blockquote>
                User stories:
                <ul>1) I can submit a FormData object that includes a file upload.</ul>
                <ul>2) When I submit something, I will receive the file size in bytes within the JSON response.</ul>
            </blockquote>
            <h3>Upload any file (max. 2MB) on this website:</h3>
            <code>https://blooming-castle-13896.herokuapp.com/</code>
            <h3>Example output (size in bytes):</h3>
            <code>{ "size":4711 }</code>
            <hr>
            <div class="container text-center">
                <form class="form-inline" action="/fup" method="post" enctype="multipart/form-data">
                    <div class="input-group">
                        <label class="input-group-btn">
                            <span class="btn btn-primary btn-lg">
                                Browse&hellip; <input type="file" id="fileToUpload" name="fileToUpload" class="input-lg" style="display: none;">
                            </span>
                        </label>
                        <input type="text" class="form-control input-lg" id="fileLabel" readonly>
                    </div>
                    <input type="submit" class="form-control input-lg" id="submit" text="Submit">
                    <span class="help-block">
                        <h4 class="text-muted">Try selecting one file and watch the feedback</h4>
                        <span class="text-danger"><strong>Max. Filesize:</strong></span> <mark>2MB</mark><br>
                        <span class="text-danger"><strong>Mime types allowed:</strong></span> <mark>text/css, text/html, text/plain, image/png, image/jpeg, image/gif, image/svg+xml</mark>
                    </span>
                </form>
            </div>
        </div>
    </body>
    <script type="text/javascript">
        /* global $ */
        $(function() {
            $('#fileToUpload').change( function() {
                var label = $(this).val().replace(/\\/g, '/').replace(/.*\//, '')
                $('#fileLabel').val(label)
            })
        })
    </script>
</html>